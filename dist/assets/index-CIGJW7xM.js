(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))u(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const e of l.addedNodes)e.tagName==="LINK"&&e.rel==="modulepreload"&&u(e)}).observe(document,{childList:!0,subtree:!0});function t(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function u(i){if(i.ep)return;i.ep=!0;const l=t(i);fetch(i.href,l)}})();const g=(a,r)=>{let t=null,u=0,i=!1;function l(){this.hits+=1}function e(){this.hits===r?this.sunk=!0:this.sunk=!1}return{name:a,size:r,hits:u,sunk:i,hit:l,isSunk:e,placement:t}};var N=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function T(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var v={exports:{}};/*!
 * Toastify js 1.12.0
 * https://github.com/apvarun/toastify-js
 * @license MIT licensed
 *
 * Copyright (C) 2018 Varun A P
 */(function(a){(function(r,t){a.exports?a.exports=t():r.Toastify=t()})(N,function(r){var t=function(e){return new t.lib.init(e)},u="1.12.0";t.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,ariaLive:"polite",style:{background:""}},t.lib=t.prototype={toastify:u,constructor:t,init:function(e){return e||(e={}),this.options={},this.toastElement=null,this.options.text=e.text||t.defaults.text,this.options.node=e.node||t.defaults.node,this.options.duration=e.duration===0?0:e.duration||t.defaults.duration,this.options.selector=e.selector||t.defaults.selector,this.options.callback=e.callback||t.defaults.callback,this.options.destination=e.destination||t.defaults.destination,this.options.newWindow=e.newWindow||t.defaults.newWindow,this.options.close=e.close||t.defaults.close,this.options.gravity=e.gravity==="bottom"?"toastify-bottom":t.defaults.gravity,this.options.positionLeft=e.positionLeft||t.defaults.positionLeft,this.options.position=e.position||t.defaults.position,this.options.backgroundColor=e.backgroundColor||t.defaults.backgroundColor,this.options.avatar=e.avatar||t.defaults.avatar,this.options.className=e.className||t.defaults.className,this.options.stopOnFocus=e.stopOnFocus===void 0?t.defaults.stopOnFocus:e.stopOnFocus,this.options.onClick=e.onClick||t.defaults.onClick,this.options.offset=e.offset||t.defaults.offset,this.options.escapeMarkup=e.escapeMarkup!==void 0?e.escapeMarkup:t.defaults.escapeMarkup,this.options.ariaLive=e.ariaLive||t.defaults.ariaLive,this.options.style=e.style||t.defaults.style,e.backgroundColor&&(this.options.style.background=e.backgroundColor),this},buildToast:function(){if(!this.options)throw"Toastify is not initialized";var e=document.createElement("div");e.className="toastify on "+this.options.className,this.options.position?e.className+=" toastify-"+this.options.position:this.options.positionLeft===!0?(e.className+=" toastify-left",console.warn("Property `positionLeft` will be depreciated in further versions. Please use `position` instead.")):e.className+=" toastify-right",e.className+=" "+this.options.gravity,this.options.backgroundColor&&console.warn('DEPRECATION NOTICE: "backgroundColor" is being deprecated. Please use the "style.background" property.');for(var n in this.options.style)e.style[n]=this.options.style[n];if(this.options.ariaLive&&e.setAttribute("aria-live",this.options.ariaLive),this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)e.appendChild(this.options.node);else if(this.options.escapeMarkup?e.innerText=this.options.text:e.innerHTML=this.options.text,this.options.avatar!==""){var o=document.createElement("img");o.src=this.options.avatar,o.className="toastify-avatar",this.options.position=="left"||this.options.positionLeft===!0?e.appendChild(o):e.insertAdjacentElement("afterbegin",o)}if(this.options.close===!0){var s=document.createElement("button");s.type="button",s.setAttribute("aria-label","Close"),s.className="toast-close",s.innerHTML="&#10006;",s.addEventListener("click",(function(y){y.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}).bind(this));var c=window.innerWidth>0?window.innerWidth:screen.width;(this.options.position=="left"||this.options.positionLeft===!0)&&c>360?e.insertAdjacentElement("afterbegin",s):e.appendChild(s)}if(this.options.stopOnFocus&&this.options.duration>0){var p=this;e.addEventListener("mouseover",function(y){window.clearTimeout(e.timeOutValue)}),e.addEventListener("mouseleave",function(){e.timeOutValue=window.setTimeout(function(){p.removeElement(e)},p.options.duration)})}if(typeof this.options.destination<"u"&&e.addEventListener("click",(function(y){y.stopPropagation(),this.options.newWindow===!0?window.open(this.options.destination,"_blank"):window.location=this.options.destination}).bind(this)),typeof this.options.onClick=="function"&&typeof this.options.destination>"u"&&e.addEventListener("click",(function(y){y.stopPropagation(),this.options.onClick()}).bind(this)),typeof this.options.offset=="object"){var h=i("x",this.options),b=i("y",this.options),k=this.options.position=="left"?h:"-"+h,w=this.options.gravity=="toastify-top"?b:"-"+b;e.style.transform="translate("+k+","+w+")"}return e},showToast:function(){this.toastElement=this.buildToast();var e;if(typeof this.options.selector=="string"?e=document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||typeof ShadowRoot<"u"&&this.options.selector instanceof ShadowRoot?e=this.options.selector:e=document.body,!e)throw"Root element is not defined";var n=t.defaults.oldestFirst?e.firstChild:e.lastChild;return e.insertBefore(this.toastElement,n),t.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout((function(){this.removeElement(this.toastElement)}).bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},removeElement:function(e){e.className=e.className.replace(" on",""),window.setTimeout((function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),e.parentNode&&e.parentNode.removeChild(e),this.options.callback.call(e),t.reposition()}).bind(this),400)}},t.reposition=function(){for(var e={top:15,bottom:15},n={top:15,bottom:15},o={top:15,bottom:15},s=document.getElementsByClassName("toastify"),c,p=0;p<s.length;p++){l(s[p],"toastify-top")===!0?c="toastify-top":c="toastify-bottom";var h=s[p].offsetHeight;c=c.substr(9,c.length-1);var b=15,k=window.innerWidth>0?window.innerWidth:screen.width;k<=360?(s[p].style[c]=o[c]+"px",o[c]+=h+b):l(s[p],"toastify-left")===!0?(s[p].style[c]=e[c]+"px",e[c]+=h+b):(s[p].style[c]=n[c]+"px",n[c]+=h+b)}return this};function i(e,n){return n.offset[e]?isNaN(n.offset[e])?n.offset[e]:n.offset[e]+"px":"0px"}function l(e,n){return!e||typeof n!="string"?!1:!!(e.className&&e.className.trim().split(/\s+/gi).indexOf(n)>-1)}return t.lib.init.prototype=t.lib,t})})(v);var E=v.exports;const m=T(E),L=()=>{let a=[],r=[];const t={carrier:g("Carrier",5),battleship:g("Battleship",4),cruiser:g("Cruiser",3),destroyer:g("Destroyer",2)};function u(){for(let n=0;n<10;n++)for(let o=0;o<10;o++)a.push([`${n}, ${o}`])}function i(n,o){n.placement=o;for(let s=0;s<n.size;s++)a[o+s]=n}function l(){console.log("game over!")}function e(n){switch(a[n]){case t.carrier:t.carrier.hit(),t.carrier.isSunk(),t.carrier.sunk===!0&&m({text:"Carrier has sunk!",className:"info",style:{background:"#9238d6"}}).showToast();break;case t.battleship:t.battleship.hit(),t.battleship.isSunk(),t.battleship.sunk===!0&&m({text:"Battleship has sunk!",className:"info",style:{background:"#9238d6"}}).showToast();break;case t.cruiser:t.cruiser.hit(),t.cruiser.isSunk(),t.cruiser.sunk===!0&&m({text:"Cruiser has sunk!",className:"info",style:{background:"#9238d6"}}).showToast();break;case t.destroyer:t.destroyer.hit(),t.destroyer.isSunk(),t.destroyer.sunk===!0&&m({text:"Destroyer has sunk!",className:"info",style:{background:"#9238d6"}}).showToast();break;default:r.push(n),console.log(`Missed co-ordinates list: ${r}`)}l()}return{board:a,placeShip:i,missedAttacksList:r,createBoard:u,fleet:t,gameOver:l,recieveAttack:e}},C=()=>{const a=L();let r=!0;function t(){let i=Math.floor(Math.random()*a.board.length);return f.playerCells[i].style.backgroundColor==="lightgreen"?f.playerCells[i].style.backgroundColor="crimson":f.playerCells[i].style.backgroundColor="aqua",i}function u(i,l){i.gameboard.recieveAttack(l)}return{gameboard:a,isTurn:r,returnRandomCoord:t,attack:u}},O=()=>{const a=C(),r=C();let t=!1,u=!1;return{player:a,computer:r,isGameOver:t,setUpPlayersAndBoards:()=>{a.gameboard.createBoard(),r.gameboard.createBoard()},placeComputerShips:()=>{r.gameboard.placeShip(r.gameboard.fleet.carrier,10),r.gameboard.placeShip(r.gameboard.fleet.battleship,30),r.gameboard.placeShip(r.gameboard.fleet.cruiser,40),r.gameboard.placeShip(r.gameboard.fleet.destroyer,80)},makeAttack:o=>{if(u)return m({text:"You must wait to attack",className:"info",style:{background:"#d67c38",fontWeight:"bold"}}).showToast();switch(a.attack(r,o),m({text:"You attacked "+o,className:"info",style:{background:"#65e665",fontWeight:"bold"}}).showToast(),u=!0,d.computer.gameboard.board[o]){case d.computer.gameboard.fleet.carrier:f.computerCells[o].style.backgroundColor="crimson";break;case d.computer.gameboard.fleet.battleship:f.computerCells[o].style.backgroundColor="crimson";break;case d.computer.gameboard.fleet.cruiser:f.computerCells[o].style.backgroundColor="crimson";break;case d.computer.gameboard.fleet.destroyer:f.computerCells[o].style.backgroundColor="crimson";break;default:f.computerCells[o].style.backgroundColor="aqua"}setTimeout(()=>{r.attack(a,r.returnRandomCoord()),m({text:"Enemy attacked a random cell",className:"info",style:{background:"#d6383a",fontWeight:"bold"}}).showToast(),u=!1},2e3)},placePlayerShip:(o,s)=>{a.gameboard.placeShip(s,f,o);for(let c=0;c<s.size;c++)f.fillCellColor(o+c)}}},d=O(),S=()=>{const a=document.getElementById("playerGameboard"),r=document.getElementById("computerGameboard"),t=document.getElementsByClassName("cell");let u=[],i=[];return{playerGameboard:a,computerGameboard:r,cell:t,playerCells:u,computerCells:i,fillCellColor:o=>{let s=document.getElementById(o);s.style.backgroundColor="lightgreen"},renderPlayerGameboard:()=>{for(let o=0;o<d.player.gameboard.board.length;o++){let s=document.createElement("div");f.playerGameboard.appendChild(s),s.textContent=d.player.gameboard.board[o],s.classList.add("cell"),s.id=o,u.push(s)}},renderComputerGameboard:()=>{for(let o=0;o<d.computer.gameboard.board.length;o++){let s=document.createElement("div");f.computerGameboard.appendChild(s),s.textContent=d.computer.gameboard.board[o],s.classList.add("cell"),s.id=`${o} computer`,i.push(s)}}}},f=S();d.player.gameboard.createBoard();d.computer.gameboard.createBoard();f.renderPlayerGameboard();f.renderComputerGameboard();d.placePlayerShip(10,d.player.gameboard.fleet.carrier);d.placePlayerShip(30,d.player.gameboard.fleet.battleship);d.placePlayerShip(50,d.player.gameboard.fleet.cruiser);d.placePlayerShip(67,d.player.gameboard.fleet.destroyer);d.placeComputerShips();for(let a=0;a<f.computerCells.length;a++)f.computerCells[a].addEventListener("click",()=>{d.makeAttack(a)});
